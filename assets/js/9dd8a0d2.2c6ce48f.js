"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8617],{1383:(t,n,e)=>{e.d(n,{$p:()=>u,Rb:()=>p,WP:()=>x,lN:()=>g,o4:()=>f,q8:()=>c,r5:()=>m,uB:()=>h});var o=e(7823),r=e(842),i=e(9699),s=e(1997);function a(t){return t*(Math.PI/180)}function l(t){return t*(180/Math.PI)}function c(t){return[r.Bw(t),Math.atan2(t[1],t[0])]}function u(t){let[n,e]=t;return[n*Math.cos(e),n*Math.sin(e)]}function f(t){return r.ZF(r.vt(),t,s.wc)}function g(t){const n=Math.atan2(t[1],t[0]),e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[n,Math.acos(t[2]/e)]}function h(t){let[n,e]=t;return[Math.sin(e)*Math.cos(n),Math.sin(e)*Math.sin(n),Math.cos(e)]}o.fG(Float64Array);const d=93;function p(t){let[n,e]=t;return[a(n+d),a(90-e)]}function x(t){let[n,e]=t;return[l(n)-d,90-l(e)]}function m(t){const n=h(t),e=i.vt();return i.Yc(e,[0,0,1],n),e}},1390:(t,n,e)=>{e.r(n),e.d(n,{default:()=>d});var o=e(6540),r=e(999),i=e(9030),s=e(6065),a=e(1410),l=e(9414),c=e(4848);class u extends o.Component{constructor(t){super(t)}render(){return(0,c.jsx)(l.A,{showCellId:!1})}}const f=(0,r.xv)(u,{isInteractive:!1}),g=s.Ay.div.withConfig({displayName:"pages__FeatureImage",componentId:"sc-tl00pn-0"})(["position:absolute;height:100%;width:50%;top:0;right:0;z-index:-1;border-top:solid 200px transparent;background-image:url(",");background-size:contain;background-repeat:no-repeat;background-position:right top;@media screen and (max-width:768px){display:none;}"],(t=>t.src)),h=s.Ay.div.withConfig({displayName:"pages__TextContainer",componentId:"sc-tl00pn-1"})(["max-width:800px;padding:64px 112px;width:70%;font-size:14px;h2{font:bold 32px/48px;margin:24px 0 16px;position:relative;}h3{font:bold 16px/24px;margin:16px 0 0;position:relative;}h3 > img{position:absolute;top:0;width:20px;left:-30px;}hr{border:none;background:#e1e8f0;height:1px;margin:24px 0 0;width:32px;height:2px;}@media screen and (max-width:768px){max-width:100%;width:100%;padding:48px 48px 48px 80px;}"]);function d(){const t=(0,i.Ay)("/");return(0,c.jsx)(a.A,{title:"Home",description:"A5 tiling system",children:(0,c.jsx)(r.ww,{HeroExample:f,children:(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsx)(g,{src:`${t}images/maps.jpg`}),(0,c.jsxs)(h,{children:[(0,c.jsxs)("h3",{children:[(0,c.jsx)("img",{src:`${t}images/pentagon.svg`}),"Pentagonal Discrete Global Grid System"]}),(0,c.jsxs)("p",{children:["A5 is a global geospatial index. It is the pentagonal equivalent of other DGGSs, like ",(0,c.jsx)("a",{href:"http://s2geometry.io/",children:"S2"})," or ",(0,c.jsx)("a",{href:"https://h3geo.org/",children:"H3"}),", but with higher accuracy and lower distortion."]}),(0,c.jsxs)("h3",{children:[(0,c.jsx)("img",{src:`${t}images/pentagon.svg`}),"Flexible representation of geospatial data"]}),(0,c.jsx)("p",{children:"A5 is used for representing points, lines, and polygons in a unified cell format, which is well suited for combining datasets and aggregating data."}),(0,c.jsxs)("h3",{children:[(0,c.jsx)("img",{src:`${t}images/pentagon.svg`}),"Uniform Cell Sizes with Minimal Distortion"]}),(0,c.jsx)("p",{children:"Data from all around the world can be directly compared due to the practically equal areas of all A5 cells."})]})]})})})}},1921:(t,n,e)=>{e.d(n,{u$:()=>A,WH:()=>I,ce:()=>j});var o=e(7823),r=e(3522),i=e(842),s=e(1383),a=e(3243),l=e(6864),c=e(1970),u=e(1997),f=e(1148),g=e(3255);o.fG(Float64Array);const h=!1,d=i.o8(u.w),p=i.ze(i.vt(),u.w),x=[0,1,2,3,4].map((t=>{const n=r.vt();return r.$0(n,f.UT*t),n})),m=i.vt();o.fG(Float64Array);const w=r.vt();function v(t,n){const e=(0,s.q8)(t),o=(0,l.s)(e,n.quat,n.angle),c=(0,a.jS)(o,n)?n:(0,a.Sj)(o);if(c.id!==n.id){const e=i.vt();r.$0(w,n.angle),i.ZF(e,t,w);const{point:u,quat:g}=(0,a.MQ)(e,n,c);let h=0;n.angle!==c.angle&&0!==c.angle&&(h=-f.R);let d=(0,s.q8)(u);d[1]=d[1]-h;const p=(0,l.s)(d,g,h);o[0]=p[0],o[1]=p[1]}return(0,s.WP)(o)}function b(t,n){const e=t.getVertices().map((t=>v(t,n)));return c.c.normalizeLongitudes(e)}var M=e(2189);o.fG(Float64Array);const S=r.vt();function j(t,n){const e=1+n-M.To,o=[t],r=50/Math.pow(2,e);for(let c=0;c<25;c++){const n=c/25*r,e=i.fA(Math.cos(c)*n,Math.sin(c)*n);i.WQ(e,e,t),o.push(e)}const s=[];for(const i of o){const e=y(i,n);if(n<M.To||C(e,t))return(0,M.lK)(e);s.push(e)}let a=1/0,l=null;for(const c of s){const n=v(k(c).getCenter(),c.origin),e=i.xg(n,t);e<a&&(a=e,l=c)}if(l)return(0,M.lK)(l);throw new Error("No cell found")}function y(t,n){const e=(0,s.Rb)(t),o={...(0,a.Sj)(e)};r.$0(S,-o.angle);const c=(0,l.r)(e,o.quat,o.angle),h=(0,s.$p)(c),d=function(t){const n=(Math.atan2(t[1],t[0])-u.V+f.JM)%f.JM;return Math.ceil(n/f.UT)%5}(h),{segment:p,orientation:x}=(0,a.b5)(d,o);if(n<M.To)return{S:0n,segment:p,origin:o,resolution:n};if(0!==d){const t=2*f.R*d;r.$0(S,-t),i.ZF(h,h,S)}const m=1+n-M.To;i.hs(h,h,2**m);const w=(0,s.o4)(h);return{S:(0,g.eS)(w,m,x),segment:p,origin:o,resolution:n}}function k(t){let{S:n,segment:e,origin:o,resolution:r}=t;const{quintant:s,orientation:l}=(0,a.BL)(e,o);if(r===M.To-1){const t=function(t){const n=u.LF.clone();return n.transform(x[t]),n}(s);return t}if(r===M.To-2)return function(){const t=[];for(const n of x)t.push(i.ZF(i.vt(),u.v,n));return new c.c(t)}();const f=r-M.To+1;return function(t,n,e){const o=(h?u.LF:u.tK).clone();i.ZF(m,e.offset,u.P9),e.flips[0]===g.NO&&e.flips[1]===g._Y&&o.rotate180();const{k:r}=e,s=e.flips[0]+e.flips[1];return((-2===s||2===s)&&r>1||0===s&&(0===r||3===r))&&o.reflectY(),e.flips[0]===g._Y&&e.flips[1]===g._Y?o.rotate180():e.flips[0]===g._Y?o.translate(p):e.flips[1]===g._Y&&o.translate(d),o.translate(m),o.scale(1/2**t),o.transform(x[n]),o}(f,s,(0,g.ky)(n,f,l))}function I(t){const{S:n,segment:e,origin:o,resolution:r}=(0,M.iu)(t),i=v(k({S:n,segment:e,origin:o,resolution:r}).getCenter(),o);return c.c.normalizeLongitudes([i])[0]}function A(t){const{S:n,segment:e,origin:o,resolution:r}=(0,M.iu)(t);return b(k({S:n,segment:e,origin:o,resolution:r}),o)}function C(t,n){const e=b(k(t),t.origin);return new c.c(e).containsPoint(n)}},2189:(t,n,e)=>{e.d(n,{To:()=>r,iu:()=>l,lK:()=>c,s7:()=>f,xZ:()=>u});var o=e(3243);const r=3,i=31,s=58n,a=0x3ffffffffffffffn;function l(t){const n=function(t){let n=i-1,e=t>>1n;for(;n>0&&0n===(0b1n&e);)n-=1,e>>=n<r?1n:2n;return n}(t);if(0===n)return{origin:o.kt[0],segment:0,S:0n,resolution:n};const e=Number(t>>58n);let l,c;if(1===n){const t=e;l=o.kt[t],c=0}else{const t=Math.floor(e/5);l=o.kt[t],c=(e+l.firstQuintant)%5}if(!l)throw new Error(`Could not parse origin: ${e}`);if(n<r)return{origin:l,segment:c,S:0n,resolution:n};const u=BigInt(2*(n-r+1));return{origin:l,segment:c,S:(t&a)>>s-u,resolution:n}}function c(t){const{origin:n,segment:e,S:o,resolution:a}=t;if(a>i)throw new Error(`Resolution (${a}) is too large`);if(0===a)return 0n;let l;if(a<r)l=BigInt(a);else{l=BigInt(2*(1+a-r)+1)}const c=(e-n.firstQuintant+5)%5;let u;if(u=1===a?BigInt(n.id)<<58n:BigInt(5*n.id+c)<<58n,a>=r){const t=BigInt(2*(a-r+1));if(BigInt(o)>=1n<<t)throw new Error(`S (${o}) is too large for resolution level ${a}`);u+=BigInt(o)<<s-t}return u|=1n<<s-l,u}function u(t,n){const{origin:e,segment:s,S:a,resolution:u}=l(t),f=n??u+1;if(f<=u)throw new Error(`Target resolution (${f}) must be greater than current resolution (${u})`);if(f>i)throw new Error(`Target resolution (${f}) exceeds maximum resolution (${i})`);let g=[e],h=[s];0===u&&(g=o.kt),(0===u&&f>1||1===u)&&(h=[0,1,2,3,4]);const d=f-Math.max(u,r-1),p=Math.pow(4,d),x=[],m=a<<BigInt(2*d);for(const o of g)for(const t of h)for(let n=0;n<p;n++){const e=m+BigInt(n);x.push(c({origin:o,segment:t,S:e,resolution:f}))}return x}function f(t,n){const{origin:e,segment:o,S:r,resolution:i}=l(t),s=n??i-1;if(s<0)throw new Error(`Target resolution (${s}) cannot be negative`);if(s>=i)throw new Error(`Target resolution (${s}) must be less than current resolution (${i})`);return c({origin:e,segment:o,S:r>>BigInt(2*(i-s)),resolution:s})}},3243:(t,n,e)=>{e.d(n,{BL:()=>M,MQ:()=>S,Sj:()=>j,b5:()=>b,jS:()=>y,kt:()=>m});var o=e(7823),r=e(9699),i=e(329),s=e(842),a=e(1383),l=e(1148);o.fG(Float64Array);const c=[0,0,1],u=["vu","uw","vw","vw","vw"],f=["wu","uw","vw","vu","uw"],g=["wu","uv","wv","wu","uw"],h=["vu","uv","wv","wu","uw"],d=[u,h,g,f,g,h,g,f,f,f,h,h],p=[4,2,3,2,0,4,3,2,2,0,3,0],x=[0,1,2,4,3,5,7,8,6,11,10,9],m=[];let w=0;function v(t,n){const e={id:w,axis:t,quat:(0,a.r5)(t),angle:n,orientation:d[w],firstQuintant:p[w]};m.push(e),w++}function b(t,n){const e=n.orientation,o=((e===u||e===f?-1:1)*((t-n.firstQuintant+5)%5)+5)%5,r=e[o];return{segment:(n.firstQuintant+o)%5,orientation:r}}function M(t,n){const e=n.orientation,o=e===u||e===f?-1:1,r=(t-n.firstQuintant+5)%5,i=e[r];return{quintant:(n.firstQuintant+o*r+5)%5,orientation:i}}function S(t,n,e){const o=r.vt();r.B8(o,n.quat);const u=(0,a.uB)(e.axis),f=i.vt();i.gL(f,u,o);const g=s.vt();s.S8(g,[f[0],f[1]]),s.hs(g,g,2*l.mN);const h=s.vt();s.Re(h,t,g);const d=r.vt();return r.Yc(d,c,f),r.lw(d,n.quat,d),{point:h,quat:d}}function j(t){let n=1/0,e=m[0];for(const o of m){const r=k(t,o.axis);r<n&&(n=r,e=o)}return e}function y(t,n){return k(t,n.axis)>.49}function k(t,n){const[e,o]=t,[r,i]=n,s=r-e,a=i-o,l=Math.sin(a/2),c=Math.sin(s/2);return l*l+c*c*Math.sin(o)*Math.sin(i)}!function(){v([0,0],0);for(let t=0;t<5;t++){const n=t*l.UT,e=n+l.R;v([n,l.Kk],l.R),v([e,Math.PI-l.Kk],l.R)}v([0,Math.PI],0)}(),m.sort(((t,n)=>x.indexOf(t.id)-x.indexOf(n.id))),m.forEach(((t,n)=>t.id=n))},3255:(t,n,e)=>{e.d(n,{NO:()=>s,_Y:()=>i,eS:()=>v,ky:()=>x});var o=e(7823),r=e(842);o.fG(Float64Array);const i=-1,s=1,a=t=>{let[n,e]=t;return r.fA(n-e,e)},l=r.fA(1,0),c=r.fA(0,1),u=r.ze(r.vt(),l),f=r.ze(r.vt(),c),g=r.fA(0,0),h=(t,n)=>{let[e,o]=n,a=g,h=g;switch(e===s&&o===s?(a=l,h=c):e===i&&o===s?(a=f,h=u):e===s&&o===i?(a=c,h=l):e===i&&o===i&&(a=u,h=f),t){case 0:return g;case 1:return a;case 2:return r.WQ(r.vt(),h,a);case 3:return r.Ln(r.vt(),h,a,2);default:throw new Error(`Invalid Quaternary value: ${t}`)}},d=t=>[[s,s],[s,i],[s,s],[i,s]][t],p=r.fA(-1,1),x=(t,n,e)=>{let o=BigInt(t);const s="wv"===e||"vw"===e,a="wu"===e||"uw"===e;("vu"===e||"wu"===e||"vw"===e)&&(o=(1n<<BigInt(2*n))-o-1n);const l=m(o);if(a){const{offset:[t,n],flips:[e,o]}=l;l.offset=[n,t],e===i&&r.WQ(l.offset,l.offset,p),o===i&&r.Re(l.offset,l.offset,p)}if(s){const{offset:[t,e],flips:o}=l,r=(1<<n)-(t+e);o[0]=-o[0],l.offset[1]=r,l.flips=o}return l},m=t=>{const n=Number(t)%4,e=r.vt(),o=[s,s];let i=BigInt(t);const l=[];for(;i>0n;)l.push(Number(i%4n)),i>>=2n;for(let s=l.length-1;s>=0;s--){r.hs(e,e,2);const t=h(l[s],o);r.WQ(e,e,t),r.lw(o,o,d(l[s]))}return{flips:o,k:n,offset:a(e)}},w=(t,n)=>{let[e,o]=t,r=0,s=n[0]===i?-(e+o):e+o,a=n[1]===i?-e:e,l=n[0]===i?-o:o;return r=n[0]+n[1]===0?l<1?0:a>1?3:s>1?2:1:s<1?0:a>1?3:l>1?2:1,r},v=function(t,n,e){void 0===e&&(e="uv");const o="vu"===e||"wu"===e||"vw"===e,r="wv"===e||"vw"===e,i="wu"===e||"uw"===e;let s=[...t];if(i&&(s[0]=t[1],s[1]=t[0]),r){const[t,e]=s;s[1]=(1<<n)-(t+e)}let a=b(s);return o&&(a=(1n<<BigInt(2*n))-a-1n),a},b=t=>{const n=(t=>{const n=Math.ceil(t[0])+Math.ceil(t[1]);return 0===n?1:1+Math.floor(Math.log2(n))})(t),e=new Array(n),o=[s,s],i=r.vt();for(let s=0;s<n;s++){const l=r.Re(r.vt(),t,i),c=1<<n-1-s,u=r.hs(r.vt(),l,1/c),f=w(u,o);e[s]=f;const g=a(h(f,o)),p=r.hs(r.vt(),g,c);r.WQ(i,i,p),r.lw(o,o,d(f))}let l=0n;for(let r=0;r<n;r++){const t=1n<<BigInt(2*(n-1-r));l+=BigInt(e[r])*t}return l}},6864:(t,n,e)=>{e.d(n,{s:()=>x,r:()=>m});var o=e(7823),r=e(329),i=e(9699),s=e(1383),a=e(1148);function l(t){const n=t/a.UT;return(n-Math.round(n))*a.UT}function c(t){const n=t*a.ZP;return Math.tan(n)}const u=a.R,f=c(u)/u;function g(t){return function(t){return Math.atan(t)/a.ZP}(t*f)}function h(t,n){const e=t*(.95-.05*(Math.abs(n)/u));return Math.tan(e)}function d(t){let[n,e]=t;const o=l(e),r=function(t){return c(t)/f}(l(e)),i=r-o,s=Math.cos(o)/Math.cos(r)*n,u=a.mN/Math.cos(r),g=h(u,r)/u;return[h(s,r)/g,e+i]}function p(t){let[n,e]=t;const o=l(e),r=g(o),i=o-r,s=a.mN/Math.cos(o),c=function(t,n){const e=Math.abs(n)/u;return Math.atan(t)/(.95-.05*e)}(n*(h(s,o)/s),o);return[c/(Math.cos(r)/Math.cos(o)),e-i]}function x(t,n,e){const[o,i]=d(t),a=function(t){let[n,e]=t;return[e,Math.atan(n)]}([o,i+e]),l=(0,s.uB)(a);return r.gL(l,l,n),(0,s.lN)(l)}function m(t,n,e){const[o,a,l]=(0,s.uB)(t),c=i.vt();i.B8(c,n);const u=r.vt();r.gL(u,[o,a,l],c);const f=function(t){let[n,e]=t;return[Math.tan(e),n]}((0,s.lN)(u));return f[1]=f[1]-e,p(f)}o.fG(Float64Array)},9414:(t,n,e)=>{e.d(n,{A:()=>m});var o=e(6540),r=(e(5338),e(9533)),i=e(8346),s=e(4567),a=e(3537),l=e(1921),c=e(2189),u=e(2478),f=e(3494),g=e(4848);const h={longitude:-.1276,latitude:51.50735,zoom:10,minZoom:2,maxZoom:27},d=[0,170,85],p=[0,128,64],x=t=>{let{showCellId:n=!0}=t;const[e,x]=(0,o.useState)(h),[m,w]=(0,o.useState)([h.longitude,h.latitude]),[v,b]=(0,o.useState)(!1),[M,S]=(0,o.useState)(!1),j=(0,o.useCallback)((t=>{let{viewState:n}=t;const[e,o]=m;x({...h,zoom:n.zoom,longitude:e,latitude:o})}),[m]),y=(0,o.useCallback)((t=>{const[n,e]=t.coordinate;x((t=>({...t,longitude:n,latitude:e}))),w([n,e])}),[]);let k=Math.min(Math.floor(2*e.zoom-4),Math.floor(e.zoom+3));k=Math.max(1,Math.min(31,k));const I=(0,o.useMemo)((()=>{const t=(0,l.ce)(m,k),n=v?(0,c.xZ)(t):[],e=M?(0,c.s7)(t):null;return{cellId:t,children:[t,...n,...e?[e]:[]]}}),[k,m,v,M]),A=(t,n)=>n.index<5?d:[160,160,160,255],C={data:(0,o.useMemo)((()=>I.children.map((t=>{const n=(0,l.u$)(t);return n.map(((e,o)=>({source:e,target:n[(o+1)%n.length],cellId:t})))})).flat()),[I.children]),getSourcePosition:t=>t.source,getTargetPosition:t=>t.target,getSourceColor:A,getTargetColor:A,getColor:A,getWidth:(t,n)=>n.index<5?2:1,getHeight:0,greatCircle:!0,widthUnits:"pixels"},B=new i.A({id:"cell-boundaries-arc",...C}),F=new s.A({id:"cell-boundaries-line",...C}),$=new a.A({id:"source-point",data:[m],getPosition:t=>t,getFillColor:p,getRadius:5,radiusUnits:"pixels",pickable:!0,stroked:!0,getLineColor:[255,255,255,255],getLineWidth:2,lineWidthUnits:"pixels"}),T=I.cellId.toString(2).padStart(64,"0"),z=2*Math.max(0,k-2)+6,R=2+z,W=T.substring(0,6),q=T.substring(6,z),Q=T.substring(z,R),N=T.substring(R);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.A,{views:new f.A({repeat:!0}),layers:[$,B,F],viewState:e,onViewStateChange:j,controller:{dragRotate:!1},onClick:y,layerFilter:t=>{let{layer:n}=t;return"cell-boundaries-arc"===n.id?e.zoom<8:"cell-boundaries-line"!==n.id||e.zoom>=8},children:(0,g.jsx)(r.T5,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",maxZoom:24})}),n&&(0,g.jsxs)("div",{style:{position:"absolute",bottom:"20px",left:"20px",backgroundColor:"white",color:"black",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"14px",maxWidth:"calc(100% - 40px)",overflow:"auto",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[(0,g.jsxs)("div",{children:["Cell ID (binary):",(0,g.jsx)("span",{style:{fontWeight:"bold",color:"#0066FF"},children:W}),(0,g.jsx)("span",{style:{fontWeight:"bold",color:"#000000"},children:q}),(0,g.jsx)("span",{style:{fontWeight:"bold",color:"#FF0066"},children:Q}),(0,g.jsx)("span",{style:{fontWeight:"bold",color:"#999999"},children:N})]}),(0,g.jsxs)("div",{children:["Cell ID (Hex): ",`0x${I.cellId.toString(16).padStart(16,"0")}`]}),(0,g.jsxs)("div",{children:["Resolution: ",k]}),(0,g.jsxs)("div",{children:["Location: [",m[0].toFixed(4),", ",m[1].toFixed(4),"]"]}),(0,g.jsxs)("div",{style:{marginTop:"10px"},children:[(0,g.jsxs)("label",{style:{marginRight:"15px"},children:[(0,g.jsx)("input",{type:"checkbox",checked:v,onChange:t=>b(t.target.checked)}),"Show children"]}),(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"checkbox",checked:M,onChange:t=>S(t.target.checked)}),"Show parent"]})]})]})]})},m=x}}]);